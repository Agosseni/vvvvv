import{r as u,c as y,o as E,b as t,d as a,e as A,f as D,h as T,g as $,k as x,m as w,aF as F,t as V,ay as L,az as M,aA as N,i as k,aB as U,aC as q,aG as z,aD as G,W as I}from"./index-BJ6qOaKr.js";import{g as R,h as W,a as Z,i as j}from"./el-overlay-Ip2Nljti.js";import{_ as H}from"./PageContainer-Cb8iWFFe.js";/* empty css                    *//* empty css                   *//* empty css                  *//* empty css                     *//* empty css                */import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"dialog-footer"},K={__name:"ChannelEdit",emits:["success"],setup(B,{expose:m,emit:d}){const n=u(!1),r=u(),l=u({cate_name:"",cate_alias:""}),f={cate_name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{pattern:/^\S{1,10}$/,message:"分类名必须是 1-10 位的非空字符",trigger:"blur"}],cate_alias:[{required:!0,message:"请输入分类别名",trigger:"blur"},{pattern:/^[a-zA-Z0-9]{1,15}$/,message:"分类名必须是 1-15 位的字母或数字",trigger:"blur"}]},v=d,g=async()=>{await r.value.validate(),l.value.id?(await R(l.value),V.success("编辑成功")):(await W(l.value),V.success("添加成功")),n.value=!1,v("success")};return m({open:c=>{n.value=!0,l.value={...c}}}),(c,e)=>{const i=T,p=D,b=A,_=x,C=F;return E(),y(C,{modelValue:n.value,"onUpdate:modelValue":e[3]||(e[3]=o=>n.value=o),title:l.value.id?"编辑分类":"添加分类",width:"30%"},{footer:t(()=>[$("span",J,[a(_,{onClick:e[2]||(e[2]=o=>n.value=!1)},{default:t(()=>e[4]||(e[4]=[w("取消")])),_:1}),a(_,{type:"primary",onClick:g},{default:t(()=>e[5]||(e[5]=[w(" 确认 ")])),_:1})])]),default:t(()=>[a(b,{ref_key:"formRef",ref:r,model:l.value,rules:f,"label-width":"100px",style:{"padding-right":"30px"}},{default:t(()=>[a(p,{label:"分类名称",prop:"cate_name"},{default:t(()=>[a(i,{modelValue:l.value.cate_name,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.cate_name=o),placeholder:"请输入分类名称"},null,8,["modelValue"])]),_:1}),a(p,{label:"分类别名",prop:"cate_alias"},{default:t(()=>[a(i,{modelValue:l.value.cate_alias,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.cate_alias=o),placeholder:"请输入分类别名"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}},ne={__name:"ArticleChannel",setup(B){const m=u([]),d=u(!1),n=u(),r=async()=>{d.value=!0;const s=await Z();m.value=s.data.data,d.value=!1};r();const l=async s=>{await I.confirm("你确认要删除该分类么","小提示捏",{type:"warning",confirmButtonText:"确认",cancelButtonText:"取消"}),await j(s.id),V.success("删除成功"),r()},f=s=>{n.value.open(s)},v=()=>{n.value.open({})},g=()=>{r()};return(s,c)=>{const e=x,i=N,p=z,b=M,_=H,C=G;return E(),y(_,{title:"视频分类"},{extra:t(()=>[a(e,{onClick:v},{default:t(()=>c[0]||(c[0]=[w("添加分类")])),_:1})]),default:t(()=>[L((E(),y(b,{data:m.value,style:{width:"100%"}},{empty:t(()=>[a(p,{description:"没有数据"})]),default:t(()=>[a(i,{type:"index",label:"序号",width:"100"}),a(i,{prop:"cate_name",label:"分类名称"}),a(i,{prop:"cate_alias",label:"分类别名"}),a(i,{label:"操作",width:"150"},{default:t(({row:o,$index:h})=>[a(e,{icon:k(U),circle:"",plain:"",type:"primary",onClick:S=>f(o,h)},null,8,["icon","onClick"]),a(e,{icon:k(q),circle:"",plain:"",type:"danger",onClick:S=>l(o,h)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"])),[[C,d.value]]),a(K,{ref_key:"dialog",ref:n,onSuccess:g},null,512)]),_:1})}}};export{ne as default};

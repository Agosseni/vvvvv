import{_ as U}from"./PageContainer-Cb8iWFFe.js";import{u as y,r as i,c as p,b as a,o,d as s,g as w,as as x,X as A,D as B,i as r,at as _,k as E,m as d,aJ as S,aK as R,t as b}from"./index-BJ6qOaKr.js";/* empty css                  *//* empty css                  *//* empty css                    */import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                */const N=["src"],V={__name:"UserAvatar",setup(z){const l=y(),t=i(l.user.user_pic),n=i(),f=c=>{const e=new FileReader;e.readAsDataURL(c.raw),e.onload=()=>{t.value=e.result}},m=async()=>{await R(t.value),await l.getUser(),b.success("头像更新成功")};return(c,e)=>{const v=B,g=x,u=E,k=U;return o(),p(k,{title:"更换头像"},{default:a(()=>[s(g,{ref_key:"uploadRef",ref:n,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":f},{default:a(()=>[t.value?(o(),A("img",{key:0,src:t.value,class:"avatar"},null,8,N)):(o(),p(v,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[s(r(_))]),_:1}))]),_:1},512),e[3]||(e[3]=w("br",null,null,-1)),s(u,{onClick:e[0]||(e[0]=D=>n.value.$el.querySelector("input").click()),type:"primary",icon:r(_),size:"large"},{default:a(()=>e[1]||(e[1]=[d("选择图片")])),_:1},8,["icon"]),s(u,{onClick:m,type:"success",icon:r(S),size:"large"},{default:a(()=>e[2]||(e[2]=[d("上传头像")])),_:1},8,["icon"])]),_:1})}}},M=C(V,[["__scopeId","data-v-7ac76fef"]]);export{M as default};

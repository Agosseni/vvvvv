import{r as u,u as v,c as x,b as a,o as y,d as e,e as V,f as k,h as w,k as U,m as h,aI as E,t as I}from"./index-BJ6qOaKr.js";/* empty css                     *//* empty css                  */import{_ as B}from"./PageContainer-Cb8iWFFe.js";/* empty css                */import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={__name:"UserProfile",setup(F){const m=u(),{user:{email:n,id:i,nickname:p,username:d},getUser:_}=v(),l=u({id:i,username:d,nickname:p,email:n}),f=u({nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}/,message:"昵称长度在2-10个非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]}),c=async()=>{await m.value.validate(),await E(l.value),_(),I.success("修改成功")};return(S,t)=>{const s=w,r=k,g=U,b=V;return y(),x(B,{title:"基本资料"},{default:a(()=>[e(b,{ref_key:"formRef",ref:m,model:l.value,rules:f.value,"label-width":"100px"},{default:a(()=>[e(r,{label:"登录名称",style:{width:"600px"}},{default:a(()=>[e(s,{modelValue:l.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.username=o),disabled:"",style:{height:"40px"}},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname",style:{width:"600px"}},{default:a(()=>[e(s,{modelValue:l.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.nickname=o),style:{height:"40px"}},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email",style:{width:"600px"}},{default:a(()=>[e(s,{modelValue:l.value.email,"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.email=o),style:{height:"40px"}},null,8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(g,{type:"primary",onClick:c},{default:a(()=>t[3]||(t[3]=[h("提交修改")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}};export{T as default};

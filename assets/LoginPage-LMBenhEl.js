import{r as g,u as L,w as R,c as _,a as $,o as v,b as s,d as l,E as I,e as N,f as z,g as w,h as F,i as d,j as y,l as c,k as M,m as t,n as P,p as T,q as j,s as A,t as b,v as D}from"./index-BJ6qOaKr.js";/* empty css               *//* empty css                    *//* empty css                     *//* empty css                *//* empty css                  */import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"flex"},J={__name:"LoginPage",setup(K){const u=g(!1),i=g(),o=g({username:"",password:"",repassword:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是 5-10位 的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"},{validator:(m,e,n)=>{e!==o.value.password?n(new Error("两次输入密码不一致")):n()},trigger:"blur"}]},E=async()=>{await i.value.validate(),await A(o.value),b.success("注册成功"),u.value=!1},C=L(),S=$(),U=async()=>{await i.value.validate();const m=await D(o.value);C.setToken(m.data.token),b.success("登录成功"),S.push("/")};return R(u,()=>{o.value={username:"",password:"",repassword:""}}),(m,e)=>{const n=I,a=z,p=F,V=M,f=P,k=N,q=T,B=j;return v(),_(B,{class:"login-page"},{default:s(()=>[l(n,{span:12,class:"bg"}),l(n,{span:6,offset:3,class:"form"},{default:s(()=>[u.value?(v(),_(k,{key:0,model:o.value,rules:x,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:s(()=>[l(a,null,{default:s(()=>e[7]||(e[7]=[w("h1",null,"注册",-1)])),_:1}),l(a,{prop:"username"},{default:s(()=>[l(p,{modelValue:o.value.username,"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.username=r),"prefix-icon":d(y),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,{prop:"password"},{default:s(()=>[l(p,{modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.password=r),"prefix-icon":d(c),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,{prop:"repassword"},{default:s(()=>[l(p,{modelValue:o.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=r=>o.value.repassword=r),"prefix-icon":d(c),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,null,{default:s(()=>[l(V,{onClick:E,class:"button",type:"primary","auto-insert-space":""},{default:s(()=>e[8]||(e[8]=[t(" 注册 ")])),_:1})]),_:1}),l(a,{class:"flex"},{default:s(()=>[l(f,{type:"info",underline:!1,onClick:e[3]||(e[3]=r=>u.value=!1)},{default:s(()=>e[9]||(e[9]=[t(" ← 返回 ")])),_:1})]),_:1})]),_:1},8,["model"])):(v(),_(k,{key:1,model:o.value,rules:x,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:s(()=>[l(a,null,{default:s(()=>e[10]||(e[10]=[w("h1",null,"登录",-1)])),_:1}),l(a,{prop:"username"},{default:s(()=>[l(p,{modelValue:o.value.username,"onUpdate:modelValue":e[4]||(e[4]=r=>o.value.username=r),"prefix-icon":d(y),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,{prop:"password"},{default:s(()=>[l(p,{modelValue:o.value.password,"onUpdate:modelValue":e[5]||(e[5]=r=>o.value.password=r),name:"password","prefix-icon":d(c),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),l(a,{class:"flex"},{default:s(()=>[w("div",H,[l(q,null,{default:s(()=>e[11]||(e[11]=[t("记住我")])),_:1}),l(f,{type:"primary",underline:!1},{default:s(()=>e[12]||(e[12]=[t("忘记密码？")])),_:1})])]),_:1}),l(a,null,{default:s(()=>[l(V,{onClick:U,class:"button",type:"primary","auto-insert-space":""},{default:s(()=>e[13]||(e[13]=[t("登录")])),_:1})]),_:1}),l(a,{class:"flex"},{default:s(()=>[l(f,{type:"info",underline:!1,onClick:e[6]||(e[6]=r=>u.value=!0)},{default:s(()=>e[14]||(e[14]=[t(" 注册 → ")])),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},ee=G(J,[["__scopeId","data-v-253c811b"]]);export{ee as default};
